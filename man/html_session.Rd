% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/session.R
\name{html_session}
\alias{html_session}
\alias{is.session}
\alias{jump_to}
\alias{follow_link}
\alias{back}
\alias{forward}
\alias{session_history}
\alias{session_submit}
\title{Simulate a session in web browser}
\usage{
html_session(url, ...)

is.session(x)

jump_to(x, url, ...)

follow_link(x, i, css, xpath, ...)

back(x)

forward(x)

session_history(x)

session_submit(x, form, submit = NULL, ...)
}
\arguments{
\item{url}{A URL, either relative or absolute, to navigate to.}

\item{...}{Any additional httr config to use throughout the session.}

\item{x}{A session.}

\item{i}{A integer to select the ith link or a string to match the
first link containing that text (case sensitive).}

\item{css}{Nodes to select. Supply one of \code{css} or \code{xpath}
depending on whether you want to use a CSS or XPath 1.0 selector.}

\item{xpath}{Nodes to select. Supply one of \code{css} or \code{xpath}
depending on whether you want to use a CSS or XPath 1.0 selector.}

\item{form}{An \link{html_form} to submit}

\item{submit}{Which button should be used?
\itemize{
\item \code{NULL}, the default, uses the first.
\item A string selects a button by its name.
\item A number selects a button based on it relative position.
}}
}
\description{
This set of functions allows you to simulate a user interacting with a
website, using forms and navigating from page to page.
\itemize{
\item Create a session with \code{html_session(url)}
\item Navigate to a specified url with \code{jump_to()}, or follow a link on the
page with \code{follow_link()}.
\item Submit an \link{html_form} with \code{session_submit()}.
\item View the history with \code{session_history()} and navigate back and forward
with \code{back()} and \code{forward()}.
\item Extract page contents with \code{\link[=html_node]{html_node()}} and \code{\link[=html_nodes]{html_nodes()}}, or get the
complete HTML document with \code{\link[=read_html]{read_html()}}.
\item Inspect the HTTP response with \code{\link[httr:cookies]{httr::cookies()}}, \code{\link[httr:headers]{httr::headers()}},
and \code{\link[httr:status_code]{httr::status_code()}}.
}
}
\examples{
s <- html_session("http://hadley.nz")
s \%>\%
  jump_to("hadley-wickham.jpg") \%>\%
  jump_to("/") \%>\%
  session_history()

s \%>\%
  jump_to("hadley-wickham.jpg") \%>\%
  back() \%>\%
  session_history()

\donttest{
s \%>\%
  follow_link(css = "p a") \%>\%
  html_nodes("p")
}
}
